<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiLang ‚Äî KiOS</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öôÔ∏è</text></svg>">
</head>
<body>
    <header class="site-header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <span class="logo-icon">‚öôÔ∏è</span>
                <span class="logo-text">KiOS</span>
            </a>
            <nav class="top-nav">
                <a href="index.html" class="nav-link">Docs</a>
                <a href="roadmap.html" class="nav-link">Roadmap</a>
                <a href="https://github.com/Lucifer04ka/KiOS" class="nav-link" target="_blank">GitHub</a>
            </nav>
        </div>
    </header>

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <span class="sidebar-title">Documentation</span>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-group">
                    <span class="nav-group-title">Getting Started</span>
                    <a href="index.html" class="nav-item">Introduction</a>
                    <a href="quick-start.html" class="nav-item">Quick Start</a>
                    <a href="installation.html" class="nav-item">Installation</a>
                </div>
                <div class="nav-group">
                    <span class="nav-group-title">Architecture</span>
                    <a href="overview.html" class="nav-item">Overview</a>
                    <a href="kernel.html" class="nav-item">Kernel</a>
                    <a href="memory.html" class="nav-item">Memory Management</a>
                    <a href="syscalls.html" class="nav-item">System Calls</a>
                </div>
                <div class="nav-group">
                    <span class="nav-group-title">Development</span>
                    <a href="roadmap.html" class="nav-item">Roadmap</a>
                    <a href="contributing.html" class="nav-item">Contributing</a>
                </div>
                <div class="nav-group">
                    <span class="nav-group-title">Future Plans</span>
                    <a href="kilang.html" class="nav-item active">KiLang</a>
                    <a href="file-formats.html" class="nav-item">File Formats</a>
                    <a href="kifs.html" class="nav-item">KiFS</a>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <article class="article">
                <h1>KiLang ‚Äî Future Programming Language</h1>
                <p class="lead">KiLang is a custom systems programming language being designed for KiOS, optimized for performance and direct kernel access.</p>

                <div class="warning-callout">
                    <span class="callout-icon">üîÆ</span>
                    <div class="callout-content">
                        <strong>Planned:</strong> KiLang is currently in the planning phase. Implementation will begin after Phase 4 (Graphics).
                    </div>
                </div>

                <h2 id="goals">Design Goals</h2>
                <div class="feature-grid">
                    <div class="feature">
                        <h3>‚ö° Performance</h3>
                        <p>Minimal overhead with direct access to hardware. No unnecessary abstraction layers.</p>
                    </div>
                    <div class="feature">
                        <h3>üîí Safety</h3>
                        <p>Built-in protection from memory errors. Ownership system to prevent leaks and bugs.</p>
                    </div>
                    <div class="feature">
                        <h3>üìñ Simplicity</h3>
                        <p>Readable, understandable syntax. Easy to learn for developers familiar with C/Rust.</p>
                    </div>
                    <div class="feature">
                        <h3>üîó Integration</h3>
                        <p>Direct access to KiOS kernel features through built-in syntax constructs.</p>
                    </div>
                </div>

                <h2 id="syntax">Planned Syntax</h2>

                <h3>Hello World</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">KiLang</span>
                    </div>
                    <pre><code>// Hello World in KiLang
fn main() {
    println("Hello, KiOS!");
}</code></pre>
                </div>

                <h3>Variables</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">KiLang</span>
                    </div>
                    <pre><code>// Immutable (recommended)
let x: i32 = 42;
let name: str = "KiOS";

// Mutable (if needed)
let mut counter: u64 = 0;
counter = counter + 1;</code></pre>
                </div>

                <h3>Functions</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">KiLang</span>
                    </div>
                    <pre><code>// Function with return type
fn add(a: i32, b: i32) -> i32 {
    return a + b;
}

// Type inference
fn multiply(a: i32, b: i32) -> i32 {
    a * b  // Last expression is return value
}</code></pre>
                </div>

                <h3>Structures</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">KiLang</span>
                    </div>
                    <pre><code>struct Point {
    x: i32,
    y: i32,
}

let p = Point { x: 10, y: 20 };</code></pre>
                </div>

                <h3>Enums & Pattern Matching</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">KiLang</span>
                    </div>
                    <pre><code>enum Result&lt;T, E&gt; {
    Ok(T),
    Err(E),
}

match result {
    Ok(value) => println("Value: {}", value),
    Err(e)    => println("Error: {}", e),
}</code></pre>
                </div>

                <h2 id="types">Planned Type System</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Size</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>i8, i16, i32, i64</code></td>
                                <td>8-64 bit</td>
                                <td>Signed integers</td>
                            </tr>
                            <tr>
                                <td><code>u8, u16, u32, u64</code></td>
                                <td>8-64 bit</td>
                                <td>Unsigned integers</td>
                            </tr>
                            <tr>
                                <td><code>f32, f64</code></td>
                                <td>32-64 bit</td>
                                <td>Floating point</td>
                            </tr>
                            <tr>
                                <td><code>bool</code></td>
                                <td>8 bit</td>
                                <td>True / False</td>
                            </tr>
                            <tr>
                                <td><code>char</code></td>
                                <td>8 bit</td>
                                <td>Unicode character</td>
                            </tr>
                            <tr>
                                <td><code>str</code></td>
                                <td>Variable</td>
                                <td>UTF-8 string</td>
                            </tr>
                            <tr>
                                <td><code>*T</code></td>
                                <td>64 bit</td>
                                <td>Pointer</td>
                            </tr>
                            <tr>
                                <td><code>&amp;T</code></td>
                                <td>64 bit</td>
                                <td>Reference</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 id="ownership">Ownership System</h2>
                <p>KiLang will include an ownership system similar to Rust to prevent memory bugs:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">KiLang</span>
                    </div>
                    <pre><code>// Move (transfer ownership)
let s1 = String::new("hello");
let s2 = s1;  // s1 is now invalid

// Borrow (reference)
let s3 = &s1;        // Immutable borrow
let s4 = &mut s1;   // Mutable borrow</code></pre>
                </div>

                <h2 id="ffi">Kernel Integration (FFI)</h2>
                <p>Direct access to KiOS kernel features:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">KiLang</span>
                    </div>
                    <pre><code>// Access kernel APIs directly
use kios;

// System calls
let fd = kios::open("/dev/fb0", O_RDWR);
kios::write(fd, buffer, size);
kios::close(fd);

// Memory mapping
let ptr = kios::mmap(null, 4096, PROT_READ | PROT_WRITE);</code></pre>
                </div>

                <h2 id="stdlib">Standard Library</h2>
                <p>Planned standard library modules:</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Module</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>std::io</code></td>
                                <td>Input/output, file operations</td>
                            </tr>
                            <tr>
                                <td><code>std::fs</code></td>
                                <td>File system operations</td>
                            </tr>
                            <tr>
                                <td><code>std::net</code></td>
                                <td>Networking (future)</td>
                            </tr>
                            <tr>
                                <td><code>std::collections</code></td>
                                <td>Vec, HashMap, String</td>
                            </tr>
                            <tr>
                                <td><code>std::math</code></td>
                                <td>Mathematical functions</td>
                            </tr>
                            <tr>
                                <td><code>kios::gui</code></td>
                                <td>GUI framework</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 id="comparison">Comparison</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>KiLang</th>
                                <th>Rust</th>
                                <th>C</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Ownership</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚ùå</td>
                            </tr>
                            <tr>
                                <td>Null Safety</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚ùå</td>
                            </tr>
                            <tr>
                                <td>Pattern Match</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚ùå</td>
                            </tr>
                            <tr>
                                <td>Generics</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚ùå</td>
                            </tr>
                            <tr>
                                <td>Unsafe Mode</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Garbage Collection</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                            </tr>
                            <tr>
                                <td>Native Binary</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 id="roadmap">Implementation Roadmap</h2>
                <ol class="goals-list">
                    <li><strong>Phase 1:</strong> Define language specification</li>
                    <li><strong>Phase 2:</strong> Implement lexer and parser</li>
                    <li><strong>Phase 3:</strong> Build AST and semantic analyzer</li>
                    <li><strong>Phase 4:</strong> Code generation for x86_64</li>
                    <li><strong>Phase 5:</strong> Implement standard library</li>
                    <li><strong>Phase 6:</strong> Self-hosting (compile KiCC on KiOS)</li>
                </ol>

                <div class="note-callout">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <strong>Note:</strong> This specification is a draft and may change during implementation.
                    </div>
                </div>
            </article>
        </main>
    </div>

    <script src="js/main.js"></script>
</body>
</html>
